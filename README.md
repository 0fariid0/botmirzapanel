# ๐ค Mirza Panel Bot

[![Security Status](https://img.shields.io/badge/Security-Enhanced-green.svg)](./SECURITY.md)
[![Version](https://img.shields.io/badge/Version-4.14.6+-blue.svg)](./CHANGELOG.md)
[![PHP Version](https://img.shields.io/badge/PHP-8.0+-purple.svg)](https://php.net)

## ๐ก๏ธ **Security Enhancement Notice**

**ุชูุงู ูุดฺฉูุงุช ุงููุช ุงู ูพุฑูฺู ุฑูุน ุดุฏู ุงุณุช!**

### โ ูุดฺฉูุงุช ุฑูุน ุดุฏู:
- **SQL Injection**: ูุญุงูุธุช ฺฉุงูู ุจุง PDO prepared statements
- **Command Injection**: ุญุฐู ุงุณุชูุงุฏู ุฎุทุฑูุงฺฉ ุงุฒ `shell_exec()`
- **File Permissions**: ุงุตูุงุญ ูุฌูุฒูุง 777 ุจู 755/600
- **Password Security**: ุญุฐู ูพุณูุฑุฏูุง hardcoded (mirzahipass)
- **Input Validation**: ุงุนุชุจุงุฑุณูุฌ ฺฉุงูู ูุฑูุฏโูุง
- **SSL/TLS**: ุจูุจูุฏ ูพฺฉุฑุจูุฏ ุงููุช
- **Error Handling**: ุจูุจูุฏ ูุฏุฑุช ุฎุทุง

## ๐ฅ ูุตุจ ุงูู (Installation)

### ุฑูุด 1: ุงุณฺฉุฑูพุช ูุตุจ ุจูุจูุฏ ุงูุชู (ูพุดููุงุฏ)

```bash
# ุฏุงูููุฏ ุงุณฺฉุฑูพุช ูุตุจ ุงูู
wget https://raw.githubusercontent.com/0fariid0/botmirzapanel/main/install_fixed.sh

# ุงุฌุฑุง ุงุณฺฉุฑูพุช
chmod +x install_fixed.sh
sudo ./install_fixed.sh
```

### ูุฒุงุง ุงุณฺฉุฑูพุช ุฌุฏุฏ:
- ๐ **ูพุณูุฑุฏูุง ูู**: ุชููุฏ ุฎูุฏฺฉุงุฑ ูพุณูุฑุฏูุง ุงูู
- ๐ก๏ธ **ูุฌูุฒูุง ุตุญุญ**: ูุงูโูุง ุจุง ูุฌูุฒูุง ููุงุณุจ (755/600)
- โ **ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ**: ุจุฑุฑุณ ุฏูู ุชูุงู ูุฑูุฏโูุง
- ๐ **ูุงฺฏ ุงูู**: ุซุจุช ฺฉุงูู ูุฑุขูุฏ ูุตุจ
- ๐ฅ **ูุงุฑูุงู**: ูพฺฉุฑุจูุฏ ุฎูุฏฺฉุงุฑ UFW
- ๐ **SSL**: ุชูุธู ุงูู ฺฏูุงููุงููโูุง SSL

### ุฑูุด 2: ูุตุจ ุฏุณุช

```bash
# ุฏุงูููุฏ ูุงูโูุง
git clone https://github.com/0fariid0/botmirzapanel.git
cd botmirzapanel

# ูุตุจ dependencies
composer install

# ูพฺฉุฑุจูุฏ ูุงู config.php
cp config.php.example config.php
nano config.php
```

## โ๏ธ ูพฺฉุฑุจูุฏ

### 1. ุชูุธูุงุช ูพุงฺฏุงู ุฏุงุฏู
```php
$dbname = "your_database_name";     // ูุงู ุฏุชุงุจุณ
$usernamedb = "your_db_username";   // ูุงู ฺฉุงุฑุจุฑ ุฏุชุงุจุณ  
$passworddb = "your_secure_password"; // ุฑูุฒ ุนุจูุฑ ูู
$host = "localhost";
```

### 2. ุชูุธูุงุช ุฑุจุงุช
```php
$APIKEY = "YOUR_BOT_TOKEN";           // ุชูฺฉู ุฑุจุงุช
$adminnumber = "YOUR_CHAT_ID";        // ุขุฏ ุงุฏูู
$domainhosts = "yourdomain.com/bot";  // ุฏุงููู ู ูุณุฑ
$usernamebot = "your_bot_username";   // ูุงู ฺฉุงุฑุจุฑ ุฑุจุงุช
```

## ๐ง ุงูฺฉุงูุงุช

### ๐ก๏ธ ุงููุช
- ูุญุงูุธุช ฺฉุงูู ุฏุฑ ุจุฑุงุจุฑ SQL Injection
- ุงุนุชุจุงุฑุณูุฌ ุชูุงู ูุฑูุฏโูุง
- ุฑูุฒูฺฏุงุฑ ุงูู ุงุชุตุงูุงุช
- ูุฌูุฒูุง ูุงู ุจููู
- Security headers

### ๐ ูุฏุฑุช
- ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุณุฑูุณโูุง
- ฺฏุฒุงุฑุดโฺฏุฑ ฺฉุงูู
- ูพุดุชุจุงู ุงุฒ ูพููโูุง ูุฎุชูู
- ุณุณุชู ูพุฑุฏุงุฎุช

### ๐ฏ ูพููโูุง ูพุดุชุจุงู ุดุฏู
- Marzban
- Marzneshin  
- X-UI
- SanaeiPanel
- HiddifyManager

## ๐จ ูฺฉุงุช ุงููุช ููู

### โ๏ธ ูุจู ุงุฒ ูุตุจ:
1. **ูพุดุชุจุงูโฺฏุฑ**: ุงุฒ ุฏุชุงุจุณ ูุนู ูพุดุชุจุงู ุจฺฏุฑุฏ
2. **ุขูพุฏุช ุณุณุชู**: ุณุณุชูโุนุงูู ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ
3. **ูุงุฑูุงู**: ุชูุธูุงุช ุงููุช ุณุฑูุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### โ ุจุนุฏ ุงุฒ ูุตุจ:
1. **ุชุบุฑ ูพุณูุฑุฏูุง**: ูพุณูุฑุฏูุง ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏ
2. **ูุฌูุฒูุง ูุงู**: ูุงู `config.php` ุจุงุฏ ูุฌูุฒ 600 ุฏุงุดุชู ุจุงุดุฏ
3. **SSL**: ฺฏูุงููุงูู SSL ุฑุง ูุนุงู ฺฉูุฏ
4. **ูุงูุชูุฑูฺฏ**: ูุงฺฏโูุง ุฑุง ุจูโุทูุฑ ููุธู ุจุฑุฑุณ ฺฉูุฏ

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

```
botmirzapanel/
โโโ config.php              # ุชูุธูุงุช ุงุตู (ูุฌูุฒ 600)
โโโ functions.php           # ุชูุงุจุน ุงูู
โโโ index.php              # ููุทู ูุฑูุฏ ุงุตู
โโโ install_fixed.sh       # ุงุณฺฉุฑูพุช ูุตุจ ุงูู
โโโ .htaccess             # ุชูุธูุงุช ุงููุช Apache
โโโ composer.json         # ูุฏุฑุช dependencies
โโโ SECURITY.md          # ุฑุงูููุง ุงููุช
โโโ src/                # ฺฉุฏูุง ุงุตู
    โโโ Admin/         # ูพูู ุงุฏูู
    โโโ Config/       # ุชูุธูุงุช ุงุถุงู
```

## ๐ ุฑูุน ูุดฺฉู

### ูุดฺฉูุงุช ุฑุงุฌ:

#### 1. ุฎุทุง ุงุชุตุงู ุจู ุฏุชุงุจุณ
```bash
# ุจุฑุฑุณ ูุถุนุช MySQL
sudo systemctl status mysql

# ุจุฑุฑุณ ูุงฺฏโูุง
sudo tail -f /var/log/mysql/error.log
```

#### 2. ูุดฺฉู SSL
```bash
# ุชุฌุฏุฏ ฺฏูุงููุงูู
sudo certbot renew

# ุจุฑุฑุณ ูุถุนุช Apache
sudo systemctl status apache2
```

#### 3. ูุดฺฉู ูุฌูุฒูุง ูุงู
```bash
# ุชูุธู ูุฌูุฒูุง ุตุญุญ
sudo chown -R www-data:www-data /var/www/html/mirzabotconfig
sudo chmod -R 755 /var/www/html/mirzabotconfig
sudo chmod 600 /var/www/html/mirzabotconfig/config.php
```

## ๐ ูพุดุชุจุงู

### ๐ ููฺฉโูุง ููุฏ:
- **ฺฉุงูุงู ุชูฺฏุฑุงู**: [@mirzapanel](https://t.me/mirzapanel)
- **ูุณุชูุฏุงุช**: [GitHub Wiki](https://github.com/0fariid0/botmirzapanel/wiki)
- **ฺฏุฒุงุฑุด ุจุงฺฏ**: [GitHub Issues](https://github.com/0fariid0/botmirzapanel/issues)

### ๐ก๏ธ ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุงููุช:
ุงฺฏุฑ ูุดฺฉู ุงููุช ูพุฏุง ฺฉุฑุฏุฏุ ูุทูุงู ุจูโุตูุฑุช ุฎุตูุต ฺฏุฒุงุฑุด ุฏูุฏ:
- **ุงูู**: security@mirzapanel.com
- **ุชูฺฏุฑุงู**: [@mirzapanel](https://t.me/mirzapanel)

## ๐ ุงูุฒุงูุงุช ุณุณุชู

### ุญุฏุงูู ุงูุฒุงูุงุช:
- **OS**: Ubuntu 20.04+ / Debian 11+
- **RAM**: 512MB (ูพุดููุงุฏ: 1GB+)
- **Storage**: 2GB+ ูุถุง ุฎุงู
- **PHP**: 8.0+
- **MySQL**: 8.0+
- **Apache**: 2.4+

### ุงูุฒุงูุงุช ูพุดููุงุฏ:
- **RAM**: 2GB+
- **CPU**: 2 Core+
- **Storage**: SSD 10GB+
- **SSL**: Certificate ุงุฒ Let's Encrypt

## ๐ฏ ูุณุฎูโูุง

### ูุณุฎู ูุนู: 4.14.6+
- โ ุฑูุน ุชูุงู ูุดฺฉูุงุช ุงููุช
- โ ุจูุจูุฏ ุงุณฺฉุฑูพุช ูุตุจ
- โ ุงุถุงูู ุดุฏู security headers
- โ ุจูุจูุฏ error handling

### ุชุบุฑุงุช ููู:
- **[BREAKING]** ุญุฐู ูพุณูุฑุฏูุง hardcoded
- **[SECURITY]** ุงุตูุงุญ SQL injection vulnerabilities
- **[SECURITY]** ุญุฐู command injection risks
- **[IMPROVEMENT]** ุจูุจูุฏ file permissions

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช. ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ูุงู [LICENSE](LICENSE) ุฑุง ูุทุงูุนู ฺฉูุฏ.

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:

1. **Fork** ฺฉูุฏ
2. **Branch** ุฌุฏุฏ ุจุณุงุฒุฏ (`git checkout -b feature/amazing-feature`)
3. ุชุบุฑุงุช ุฑุง **Commit** ฺฉูุฏ (`git commit -m 'Add amazing feature'`)
4. ุจู **Branch** ุฎูุฏ **Push** ฺฉูุฏ (`git push origin feature/amazing-feature`)
5. **Pull Request** ุงุฌุงุฏ ฺฉูุฏ

### ๐ ุฑุงูููุง ูุดุงุฑฺฉุช:
- ฺฉุฏ ุจุงุฏ clean ู documented ุจุงุดุฏ
- ุชุณุชโูุง ุงููุช ุฑุง ุงุฌุฑุง ฺฉูุฏ
- ุงุฒ security best practices ูพุฑู ฺฉูุฏ
- ุฏุฑ ุตูุฑุช ุชุบุฑุงุช ุงููุชุ ุญุชูุงู ูุณุชูุฏุงุช ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ

---

**โก ูฺฉุชู**: ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุขุฎุฑู ูุณุฎู ุจุง ุชูุงู ุจูุจูุฏูุง ุงููุชุ ุงุฒ ุงุณฺฉุฑูพุช `install_fixed.sh` ุงุณุชูุงุฏู ฺฉูุฏ.

**๐ก๏ธ ุงููุช ุงูููุช ุงูู ูุงุณุช!** ุชูุงู ูุดฺฉูุงุช ุงููุช ุดูุงุณุง ุดุฏู ุฑูุน ุดุฏูโุงูุฏ.
